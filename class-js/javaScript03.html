<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>03. 호이스팅-스코프</title>
</head>
<body>
    <script>
        // 바닐라 자바스트립트는 도서관 필요 없음
        // 제이쿼리는 도서관 필요함

        // 호이스팅:
        // 코드를 실행하기 전, 일종의 코드평가를 거치는데
        // 이때 변수 선언문을 미리 실행해두기 때문에,
        // 뒤에서 선언한 변수도 앞의 코드에서 사용할 수 있게 됨
        // 이를 변수 호이스팅이라 함

        console.log(num); // undefined(정의되지 않은 값) 출력
        var num = 40; // 여기서 변수 선언부는 var num
        // 위 내용은 아래와 같은 상황임 (호이스팅 때문에 선언부가 위로 올라온 것과 마찬가지)
        // var num;
        // console.log(num);
        // 원래라면 에러가 떠야 하지만 변수 호이스팅으로 인해 undefined가 출력됨

        // 기호주의: = 대입하다 / == 같다

        // 변수 호이스팅 문제로 인해 의도하지 않은 값이 노출될 때가 종종 발생
        // 주로 변수 이름이 겹치거나 재할당된 값이 있는 경우인데 개발자들이 많이 힘들어 함
        // 그래서 let과 const가 등장함

        // let, const:
        // 코드 실행 전에 변수 선언만 해두고,
        // 초기화는 실행과정에서 변수 선언문을 만났을 때 함
        // 호이스팅이 발생하기는 하지만 과정이 다름
        // 뒤에 선언한 값을 앞의 코드에서 사용하지 못하게 됨

        // 재선언과 재할당은 엄연히 다름

        var int = 0; // 변수 선언과 동시에 초기화함
        console.log(int);

        var int = 2; // 변수 재선언
        console.log(int);

        int = 4; // 재할당(변수를 선언해서 값을 바꿔치기 하는 것)
        console.log(int);

        let num = 10;
        console.log(num);

        // let num = 20;
        // console.log(num);
        // let 재선언 불가

        // num = 40;
        // console.log(num);
        // let 재할당 가능

        const STR = '첫번째 선언';
        console.log(STR);
        //const 상수(변하지 않는 값)선언시 사용

        // const STR = '두번째 선언';
        // console.log(STR);
        // const 재선언 불가

        // STR = '세번째 선언';
        // console.log(STR);
        // const 재할당 불가

        // 값이 변하지 않아야 하는 건 const
        // 값이 변하는 건 let
        // var는 더이상 사용안함

        // -------------------
        // 스코프 (scope, 유효범위)
        // 전역변수와 지역변수로 나뉨
        // var 함수 내부에서 선언된 변수만 지역변수로 간주함
        // let, const 함수 내부, if, for, while 등 코드블럭{}에서 선언된 변수는 지역변수로 간주
        // 블럭 안에서 선언하면 그 블럭 안에서만 사용 가능
        // [중요] 우선순위: 지역변수(함수내부선언, 코드블럭 종료되면 소멸) > 전역변수(프로그램 전체에서 접근 가능)

        // 지역변수? 전역변수?
        // 사람들마다 의견이 갈리는 부분. 쌤은 지역변수 선호
        // 1. 메모리 관리 차원
            // 지역변수: 메모리에 상주 -> 지역변수가 담긴 함수가 종료되면 메모리 해제 -> 메모리가 확보됨
            // 전역변수: 프로그램이 실행되는 동안 메모리에 계속 상주 -> 메모리 사용량 증가
            // 전역변수를 쓸 경우 큰 프로젝트에서 메모리 문제가 발생할 수 있음
        // 2. 유지보수
            // 지역변수: 범위제한 -> 특정부분에서만 사용 보장
            // 전역변수: 코드 어디에서나 접근 가능 -> 의도하지 않은 곳에서 변경, 사용됨
        // 3. 네임스페이스
            // 전역변수가 많으면 여러 개발자가 개발시 동일변수명을 사용할 가능성이 높아짐 -> 오류가 발생할 수 있음
        // 가능한 지역변수를 사용하는 것이 좋다고 생각함
        // 전역변수는 꼭 필요할 때 신중하게 사용
        // 최소한으로 사용할 것 -> 코드 안정성, 유지보수성 향상
    </script>
</body>
</html>